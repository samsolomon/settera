import type { SetteraLabels } from "@settera/ui";
import type { SetteraSchema } from "@settera/schema";

export const labels: SetteraLabels = {
  saving: "Guardando\u2026",
  saved: "Guardado",
  save: "Guardar",
  saveFailed: "Error al guardar",
  cancel: "Cancelar",
  confirm: "Confirmar",
  submit: "Enviar",
  back: "Volver",
  backToApp: "Volver a la app",
  edit: "Editar",
  open: "Abrir",
  remove: "Eliminar",
  loading: "Cargando\u2026",
  select: "Seleccionar\u2026",
  searchSelectPlaceholder: "Buscar\u2026",
  noResults: "Sin resultados",
  addItem: "Agregar elemento",
  up: "Subir",
  down: "Bajar",
  searchPlaceholder: "Buscar ajustes\u2026",
  clearSearch: "Limpiar búsqueda",
  expandSection: "Expandir sección",
  collapseSection: "Contraer sección",
  expand: "Expandir",
  collapse: "Contraer",
  copyLink: "Copiar enlace al ajuste",
  copyLinkToSection: "Copiar enlace a la sección",
  openCalendar: "Abrir calendario",
  selectDate: "Seleccionar fecha",
  openNavigation: "Abrir navegación",
  typeToConfirm: "Escribe {text} para confirmar",
  reviewFieldsAndSubmit: "Revisa los campos y envía.",
};

export const schema: SetteraSchema = {
  version: "1.0",
  meta: {
    title: "Configuración de demostración",
    description: "Una demostración de todos los controles de ajustes con Settera.",
  },
  pages: [
    {
      key: "profile",
      title: "Perfil",
      description: "Administra tus datos personales.",
      icon: "user",
      sections: [
        {
          key: "details",
          title: "Información personal",
          description:
            "Los cambios en tu perfil se aplicarán a todos tus espacios de trabajo.",
          settings: [
            {
              key: "profile.avatar",
              title: "Foto de perfil",
              description:
                "Solo aceptamos PNGs, JPEGs y GIFs de menos de 10MB.",
              type: "custom",
              renderer: "profilePicture",
            },
            {
              key: "profile.firstName",
              title: "Nombre",
              type: "text",
              placeholder: "Ingresa tu nombre",
              validation: { required: true, maxLength: 50 },
            },
            {
              key: "profile.lastName",
              title: "Apellido",
              type: "text",
              placeholder: "Ingresa tu apellido",
              validation: { required: true, maxLength: 50 },
            },
            {
              key: "profile.email",
              title: "Correo electrónico",
              type: "compound",
              displayStyle: "modal",
              buttonLabel: "Editar",
              fields: [
                {
                  key: "address",
                  title: "Correo electrónico",
                  type: "text",
                  inputType: "email",
                  placeholder: "tu@ejemplo.com",
                  validation: { required: true },
                },
              ],
            },
          ],
        },
        {
          key: "password",
          title: "Contraseña",
          description: "Actualiza tus credenciales de acceso",
          settings: [
            {
              key: "profile.password",
              title: "Contraseña",
              description: "Debe tener al menos 8 caracteres.",
              type: "compound",
              displayStyle: "modal",
              buttonLabel: "Cambiar contraseña",
              fields: [
                {
                  key: "currentPassword",
                  title: "Contraseña actual",
                  type: "text",
                  inputType: "password",
                  validation: { required: true },
                },
                {
                  key: "newPassword",
                  title: "Nueva contraseña",
                  type: "text",
                  inputType: "password",
                  validation: { required: true, minLength: 8 },
                },
                {
                  key: "confirmPassword",
                  title: "Confirmar nueva contraseña",
                  type: "text",
                  inputType: "password",
                  validation: { required: true, minLength: 8 },
                },
              ],
            },
          ],
        },
        {
          key: "locale",
          title: "Idioma",
          settings: [
            {
              key: "profile.language",
              title: "Idioma",
              description: "Elige el idioma de la interfaz de ajustes.",
              type: "select",
              options: [
                { value: "en", label: "English" },
                { value: "es", label: "Español" },
                { value: "fr", label: "Français" },
                { value: "de", label: "Deutsch" },
                { value: "ja", label: "日本語" },
              ],
              default: "en",
            },
          ],
        },
        {
          key: "time",
          title: "Preferencias de hora",
          description: "Administra tus preferencias de hora.",
          settings: [
            {
              key: "profile.timezone",
              title: "Zona horaria",
              type: "select",
              searchable: true,
              options: [
                { value: "America/New_York", label: "Hora del Este (Nueva York)", group: "Américas" },
                { value: "America/Chicago", label: "Hora Central (Chicago)", group: "Américas" },
                { value: "America/Denver", label: "Hora de Montaña (Denver)", group: "Américas" },
                { value: "America/Los_Angeles", label: "Hora del Pacífico (Los Ángeles)", group: "Américas" },
                { value: "America/Mexico_City", label: "Hora Central (Ciudad de México)", group: "Américas" },
                { value: "America/Buenos_Aires", label: "Hora de Argentina (Buenos Aires)", group: "Américas" },
                { value: "America/Sao_Paulo", label: "Hora de Brasilia (São Paulo)", group: "Américas" },
                { value: "Europe/London", label: "GMT (Londres)", group: "Europa" },
                { value: "Europe/Berlin", label: "CET (Berlín)", group: "Europa" },
                { value: "Europe/Paris", label: "CET (París)", group: "Europa" },
                { value: "Europe/Madrid", label: "CET (Madrid)", group: "Europa" },
                { value: "Europe/Moscow", label: "MSK (Moscú)", group: "Europa" },
                { value: "Asia/Tokyo", label: "JST (Tokio)", group: "Asia y Pacífico" },
                { value: "Asia/Shanghai", label: "CST (Shanghái)", group: "Asia y Pacífico" },
                { value: "UTC", label: "UTC" },
              ],
              default: "America/New_York",
            },
            {
              key: "profile.startWeekOn",
              title: "Iniciar semana el",
              type: "select",
              options: [
                { value: "sunday", label: "Domingo" },
                { value: "monday", label: "Lunes" },
                { value: "saturday", label: "Sábado" },
              ],
              default: "monday",
            },
          ],
        },
      ],
    },
    {
      label: "Organización",
      pages: [
        {
          key: "security",
          title: "Seguridad",
          icon: "shield",
          sections: [
            {
              key: "securityMain",
              title: "Seguridad",
              settings: [
                {
                  key: "security.ssoEnabled",
                  title: "Habilitar SSO",
                  description: "Habilitar autenticación de inicio de sesión único.",
                  type: "boolean",
                  default: false,
                },
                {
                  key: "security.ssoProvider",
                  title: "Proveedor de SSO",
                  description: "Selecciona tu proveedor de identidad SSO.",
                  type: "select",
                  placeholder: "Elige un proveedor\u2026",
                  options: [
                    { value: "okta", label: "Okta", description: "SSO empresarial con SAML 2.0" },
                    { value: "auth0", label: "Auth0", description: "Plataforma de identidad flexible" },
                    { value: "azure", label: "Azure AD", description: "Microsoft Entra ID" },
                  ],
                  visibleWhen: { setting: "security.ssoEnabled", equals: true },
                },
                {
                  key: "security.mfa",
                  title: "Requerir MFA",
                  description: "Requerir autenticación multifactor para todos los usuarios.",
                  type: "boolean",
                  default: false,
                  visibleWhen: { setting: "security.ssoEnabled", equals: true },
                },
                {
                  key: "security.sessionTimeout",
                  title: "Tiempo de espera de sesión",
                  description: "Minutos de inactividad antes del cierre de sesión automático.",
                  type: "number",
                  placeholder: "30",
                  default: 30,
                  validation: { required: true, min: 5, max: 1440 },
                },
              ],
            },
          ],
        },
        {
          key: "advanced",
          title: "Avanzado",
          icon: "zap",
          sections: [
            {
              key: "experimental",
              title: "Experimental",
              description: "Estas funciones pueden ser inestables.",
              settings: [
                {
                  key: "advanced.experimental",
                  title: "Habilitar funciones experimentales",
                  description: "Activar funciones que aún están en desarrollo.",
                  type: "boolean",
                  default: false,
                  dangerous: true,
                  confirm: {
                    title: "¿Habilitar funciones experimentales?",
                    message: "Las funciones experimentales pueden causar inestabilidad. ¿Continuar?",
                  },
                },
                {
                  key: "advanced.debug",
                  title: "Modo depuración",
                  description: "Mostrar información de depuración en la consola.",
                  type: "boolean",
                  default: false,
                  visibleWhen: { setting: "advanced.experimental", equals: true },
                },
                {
                  key: "advanced.betaUpdates",
                  title: "Actualizaciones beta",
                  description: "Recibir actualizaciones beta antes del lanzamiento general.",
                  type: "boolean",
                  default: false,
                  dangerous: true,
                  badge: "Beta",
                },
              ],
            },
            {
              key: "actions",
              title: "Gestión de datos",
              settings: [
                {
                  key: "actions.export",
                  title: "Exportar datos",
                  description: "Descarga todos tus datos como archivo JSON.",
                  type: "action",
                  buttonLabel: "Exportar",
                  actionType: "modal",
                  modal: {
                    title: "Exportar datos",
                    description: "Elige el formato de exportación e incluir notas privadas.",
                    submitLabel: "Iniciar exportación",
                    fields: [
                      {
                        key: "format",
                        title: "Formato",
                        type: "select",
                        options: [
                          { value: "json", label: "JSON" },
                          { value: "csv", label: "CSV" },
                        ],
                        default: "json",
                      },
                      {
                        key: "includePrivate",
                        title: "Incluir notas privadas",
                        type: "boolean",
                        default: false,
                      },
                    ],
                  },
                },
                {
                  key: "actions.inviteTeam",
                  title: "Invitar equipo (demo modal)",
                  description: "Ejemplo completo de acción modal con varios tipos de campo.",
                  type: "action",
                  buttonLabel: "Invitar equipo",
                  actionType: "modal",
                  modal: {
                    title: "Invitar miembros del equipo",
                    description: "Los valores en este formulario solo se envían al hacer clic en Enviar invitaciones.",
                    submitLabel: "Enviar invitaciones",
                    fields: [
                      {
                        key: "message",
                        title: "Mensaje de bienvenida",
                        type: "text",
                        placeholder: "Bienvenido al espacio de trabajo",
                        default: "¡Bienvenido a bordo!",
                      },
                      {
                        key: "seatCount",
                        title: "Cantidad de asientos",
                        type: "number",
                        default: 3,
                      },
                      {
                        key: "sendOn",
                        title: "Enviar el",
                        type: "date",
                      },
                      {
                        key: "channels",
                        title: "Canales de invitación",
                        type: "multiselect",
                        options: [
                          { value: "email", label: "Correo electrónico" },
                          { value: "slack", label: "Slack" },
                          { value: "sms", label: "SMS" },
                        ],
                        default: ["email"],
                      },
                      {
                        key: "owner",
                        title: "Propietario",
                        type: "compound",
                        displayStyle: "inline",
                        fields: [
                          { key: "name", title: "Nombre del propietario", type: "text", default: "" },
                          { key: "notify", title: "Notificar al propietario", type: "boolean", default: true },
                        ],
                      },
                      {
                        key: "emails",
                        title: "Correos de invitación",
                        type: "repeatable",
                        itemType: "text",
                        default: ["nuevo-usuario@ejemplo.com"],
                      },
                    ],
                  },
                },
                {
                  key: "actions.clearCache",
                  title: "Limpiar caché",
                  description: "Eliminar datos en caché para liberar espacio.",
                  type: "action",
                  buttonLabel: "Limpiar caché",
                  actionType: "callback",
                },
                {
                  key: "actions.importData",
                  title: "Importar datos",
                  description: "Formulario de página completa para importar datos de una fuente externa.",
                  type: "action",
                  buttonLabel: "Importar datos",
                  actionType: "page",
                  page: {
                    title: "Importar datos",
                    description: "Configura la fuente de importación y las opciones, luego envía para comenzar.",
                    submitLabel: "Iniciar importación",
                    cancelLabel: "Cancelar",
                    fields: [
                      {
                        key: "source",
                        title: "Fuente",
                        type: "select",
                        options: [
                          { value: "csv", label: "Archivo CSV" },
                          { value: "json", label: "Archivo JSON" },
                          { value: "api", label: "API externa" },
                        ],
                        default: "csv",
                      },
                      { key: "url", title: "URL de fuente", type: "text", inputType: "url", placeholder: "https://ejemplo.com/datos.csv" },
                      { key: "overwrite", title: "Sobrescribir datos existentes", type: "boolean", default: false },
                      { key: "dryRun", title: "Prueba (solo vista previa)", type: "boolean", default: true },
                    ],
                  },
                },
                {
                  key: "actions.advancedExport",
                  title: "Exportación avanzada",
                  description: "Asistente de exportación personalizado con renderizador propio.",
                  type: "action",
                  buttonLabel: "Exportación avanzada",
                  actionType: "page",
                  page: {
                    renderer: "advancedExportPage",
                    title: "Exportación avanzada",
                    description: "Renderizador personalizado para opciones avanzadas de exportación.",
                  },
                },
                {
                  key: "actions.account",
                  title: "Tu cuenta",
                  description: "Inicia sesión o crea una cuenta nueva.",
                  type: "action",
                  actions: [
                    {
                      key: "actions.account.login",
                      buttonLabel: "Iniciar sesión",
                      actionType: "modal",
                      modal: {
                        title: "Iniciar sesión en tu cuenta",
                        description: "Ingresa tus credenciales para acceder.",
                        submitLabel: "Iniciar sesión",
                        fields: [
                          { key: "email", title: "Correo", type: "text", inputType: "email", placeholder: "tu@ejemplo.com" },
                          { key: "password", title: "Contraseña", type: "text", inputType: "password" },
                        ],
                      },
                    },
                    {
                      key: "actions.account.signup",
                      buttonLabel: "Registrarse",
                      actionType: "callback",
                    },
                  ],
                },
                {
                  key: "actions.deleteAccount",
                  title: "Eliminar cuenta",
                  description: "Eliminar permanentemente tu cuenta y todos los datos asociados. Esta acción no se puede deshacer.",
                  type: "action",
                  buttonLabel: "Eliminar cuenta",
                  actionType: "callback",
                  dangerous: true,
                },
              ],
            },
          ],
        },
        {
          key: "branding",
          title: "Marca",
          icon: "palette",
          sections: [
            {
              key: "identity",
              title: "Identidad de marca",
              collapsible: true,
              settings: [
                {
                  key: "branding.name",
                  title: "Nombre de marca",
                  description: "El nombre de tu organización o producto.",
                  type: "text",
                  placeholder: "Acme Corp",
                  validation: { required: true, maxLength: 60 },
                },
                {
                  key: "branding.tagline",
                  title: "Eslogan",
                  description: "Una declaración breve de marca que se muestra en la página de inicio de sesión.",
                  type: "text",
                  inputType: "textarea",
                  rows: 2,
                  placeholder: "Construyendo el futuro, una función a la vez.",
                  validation: { maxLength: 120 },
                },
                {
                  key: "branding.legalNotice",
                  title: "Aviso legal",
                  description: "Texto legal del pie de página en toda la aplicación.",
                  type: "text",
                  inputType: "textarea",
                  rows: 3,
                  placeholder: "© 2026 Acme Corp. Todos los derechos reservados.",
                  badge: "Empresa",
                },
                {
                  key: "branding.logoUrl",
                  title: "URL del logotipo",
                  description: "URL del logotipo de tu organización (se recomienda SVG o PNG).",
                  type: "text",
                  inputType: "url",
                  placeholder: "https://ejemplo.com/logo.svg",
                  validation: {
                    pattern: "^https?://",
                    message: "Debe ser una URL válida que comience con http:// o https://",
                  },
                },
              ],
            },
          ],
        },
        {
          key: "billing",
          title: "Facturación",
          icon: "credit-card",
          sections: [
            {
              key: "plan",
              title: "Plan y uso",
              settings: [
                {
                  key: "billing.plan",
                  title: "Plan actual",
                  description: "Tu nivel de suscripción.",
                  type: "select",
                  placeholder: "Selecciona un plan\u2026",
                  options: [
                    { value: "free", label: "Gratuito", description: "Hasta 3 usuarios, funciones básicas" },
                    { value: "starter", label: "Inicial", description: "Hasta 10 usuarios, funciones principales", group: "Pago" },
                    { value: "pro", label: "Pro", description: "Usuarios ilimitados, funciones avanzadas", group: "Pago" },
                    { value: "enterprise", label: "Empresa", description: "Límites personalizados, SSO, registros de auditoría", group: "Pago" },
                  ],
                  default: "free",
                },
                {
                  key: "billing.seats",
                  title: "Asientos del equipo",
                  description: "Cantidad de asientos de miembros del equipo en tu plan.",
                  type: "number",
                  default: 3,
                  displayHint: "slider",
                  validation: { required: true, min: 1, max: 100, step: 1 },
                },
                {
                  key: "billing.annualBilling",
                  title: "Facturación anual",
                  description: "Ahorra 20% con facturación anual.",
                  type: "boolean",
                  default: false,
                  visibleWhen: { setting: "billing.plan", notEquals: "free" },
                },
              ],
            },
            {
              key: "paid-features",
              title: "Funciones de pago",
              description: "Estos ajustes requieren un plan de pago.",
              collapsible: true,
              visibleWhen: {
                or: [
                  { setting: "billing.plan", equals: "starter" },
                  { setting: "billing.plan", equals: "pro" },
                  { setting: "billing.plan", equals: "enterprise" },
                ],
              },
              settings: [
                {
                  key: "billing.customDomain",
                  title: "Dominio personalizado",
                  description: "Usa tu propio dominio para la aplicación.",
                  type: "text",
                  inputType: "url",
                  placeholder: "app.tuempresa.com",
                  badge: "Pro",
                  visibleWhen: {
                    or: [
                      { setting: "billing.plan", equals: "pro" },
                      { setting: "billing.plan", equals: "enterprise" },
                    ],
                  },
                },
                {
                  key: "billing.auditLog",
                  title: "Retención de registro de auditoría",
                  description: "Cuánto tiempo mantener las entradas del registro de auditoría (días).",
                  type: "number",
                  default: 30,
                  badge: "Empresa",
                  validation: { min: 7, max: 365, step: 1 },
                  visibleWhen: { setting: "billing.plan", equals: "enterprise" },
                },
                {
                  key: "billing.apiAccess",
                  title: "Acceso a API",
                  description: "Habilitar acceso a API REST para integraciones.",
                  type: "boolean",
                  default: false,
                },
                {
                  key: "billing.apiRateLimit",
                  title: "Límite de tasa de API",
                  description: "Solicitudes máximas de API por minuto.",
                  type: "number",
                  default: 60,
                  validation: { min: 10, max: 1000, step: 10 },
                  visibleWhen: [
                    { setting: "billing.apiAccess", equals: true },
                    { setting: "billing.seats", greaterThan: 5 },
                  ],
                },
              ],
            },
            {
              key: "notifications-billing",
              title: "Notificaciones de facturación",
              settings: [
                {
                  key: "billing.notifyChannels",
                  title: "Canales de alerta de facturación",
                  description: "Elige cómo recibir alertas de facturación.",
                  type: "multiselect",
                  options: [
                    { value: "email", label: "Correo electrónico" },
                    { value: "slack", label: "Slack" },
                    { value: "webhook", label: "Webhook" },
                  ],
                  default: ["email"],
                },
                {
                  key: "billing.slackWebhook",
                  title: "URL de webhook de Slack",
                  description: "URL de webhook para notificaciones de facturación en Slack.",
                  type: "text",
                  inputType: "url",
                  placeholder: "https://hooks.slack.com/services/...",
                  visibleWhen: { setting: "billing.notifyChannels", contains: "slack" },
                },
                {
                  key: "billing.webhookUrl",
                  title: "URL de webhook personalizado",
                  description: "Tu endpoint de webhook para eventos de facturación.",
                  type: "text",
                  inputType: "url",
                  placeholder: "https://api.tuapp.com/billing-webhook",
                  visibleWhen: { setting: "billing.notifyChannels", contains: "webhook" },
                },
                {
                  key: "billing.usageThreshold",
                  title: "Umbral de alerta de uso",
                  description: "Recibe una notificación cuando el uso supere este porcentaje.",
                  type: "number",
                  default: 80,
                  displayHint: "slider",
                  validation: { min: 50, max: 100, step: 5 },
                },
              ],
              subsections: [
                {
                  key: "billing-overages",
                  title: "Ajustes de exceso",
                  description: "Configura qué sucede cuando superas los límites de tu plan.",
                  visibleWhen: { setting: "billing.usageThreshold", lessThan: 100 },
                  settings: [
                    {
                      key: "billing.overageAction",
                      title: "Acción de exceso",
                      description: "Qué hacer cuando el uso supera el umbral.",
                      type: "select",
                      options: [
                        { value: "notify", label: "Solo notificar" },
                        { value: "throttle", label: "Limitar solicitudes" },
                        { value: "block", label: "Bloquear nuevas solicitudes" },
                      ],
                      default: "notify",
                    },
                    {
                      key: "billing.overageEmail",
                      title: "Correo de notificación de exceso",
                      description: "Sobrescribir el contacto de facturación para alertas de exceso.",
                      type: "text",
                      inputType: "email",
                      placeholder: "facturacion@tuempresa.com",
                      deprecated: "Usa Canales de alerta de facturación en su lugar. Este campo se eliminará en una versión futura.",
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      key: "users",
      title: "Usuarios",
      description: "Administra los miembros del equipo que pueden acceder a este espacio de trabajo.",
      icon: "users",
      mode: "custom",
      renderer: "usersPage",
    },
  ],
};
